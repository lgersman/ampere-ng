<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>polymer test</title>
		<meta name="description" content="">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!-- Place favicon.ico and apple-touch-icon(s) in the root directory -->

		<!-- Load platform.js for polyfill support. -->
		<script src="bower_components/platform/platform.js"></script>

		<!-- Load ES6 shims -->
		<script src="../../node_modules/traceur/bin/traceur-runtime.js"></script>

		<!-- Load the component using an HTML Import -->
		<link rel="import" href="elements/dyn-control/dyn-control.html">
	</head>
		<!--
			use fullbleed attribute to specify the body should fill the viewport
		-->
	<body fullbleed unresolved>
		<!--[if lt IE 11]>
		<p>
			You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.
		</p>
		<![endif]-->

		<!-- untouched default -->
		<dyn-control></dyn-control>

		<!-- items provided -->
		<dyn-control></dyn-control>

		<!-- items+template provided -->
		<dyn-control>
			<template>
				hey !!!
				<template bind="{{items.length as length}}">
					<span>{{items | stringify}}</span>
				</template>
				<a href="#" on-tap="{{onClicked}}">on-click</a>
			</template>
		</dyn-control>

		<button onclick="onClicked()">Click</button>

		<script>
			var ITEMS = [{'name' : 'alpha'}, {'name' : 'beta'}, {'name' : 'gamma'}];

			function onClicked() {
				ITEMS.push({'name' : 'delta'});
			}

			document.addEventListener('polymer-ready',function() {
				console.log("attach items");

				document.querySelectorAll('dyn-control').array().forEach(function(dynControl, index) {
					if( index) {
						dynControl.items = ITEMS;
					}
				});
			});
		</script>
	</body>
</html>
