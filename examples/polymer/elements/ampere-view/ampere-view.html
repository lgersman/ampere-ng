<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../ampere-transition/ampere-transition.html">

<polymer-element name="ampere-view" attributes="host">
  <template>
    <link rel="stylesheet" href="ampere-view.css">
    <template id="default">
      <details open>
        <summary>
          <code>View "<strong>{{view | caption}}</strong>" (={{view.options[app.view.state.module.domain.Ampere.NAMESPACE]}})</code>
        </summary>
        <div>
          <code><em>{{view | description}}</em><code>
        </div>
      </details>
      <template bind="{{app | transitions('local') as local_transitions}}" _if="{{local_transitions.length}}">
        <core-toolbar class="transitions local">
          <template repeat="{{transition in local_transitions}}">
            <ampere-transition transition="{{transition}}" _title="{{transition | description}}"></ampere-transition>
          </template>
        </core-toolbar>
      </template>
      <template bind="{{app | transitions() as unscoped_transitions}}" _if="{{unscoped_transitions.length}}">
        <core-toolbar class="transitions">
          <template repeat="{{transition in unscoped_transitions}}">
            <ampere-transition transition="{{transition}}"></ampere-transition>
          </template>
        </core-toolbar>
      </template>
      <template id="dl">
        <dl>
          <dt>
            <code style="text-transform:capitalize">{{context.type}}</code>
          </dt>
          <dd>
            <pre>{{context | stringify(true)}}</pre>
          </dd>
        </dl>
      </template>
      <template ref="dl" bind="{{view as context}}"></template>
      <template ref="dl" bind="{{view.state as context}}"></template>
      <template ref="dl" bind="{{view.state.module as context}}"></template>
      <template ref="dl" bind="{{view.state.module.app as context}}"></template>
      <template ref="dl" bind="{{view.state.module.domain as context}}"></template>
    </template>
  </template>
  <script src="ampere-view.js"></script>
</polymer-element>
